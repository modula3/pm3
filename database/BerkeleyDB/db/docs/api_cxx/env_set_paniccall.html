<!--$Id$-->
<!--Copyright 1997-2002 by Sleepycat Software, Inc.-->
<!--All rights reserved.-->
<!--See the file LICENSE for redistribution information.-->
<html>
<head>
<title>Berkeley DB: DbEnv::set_paniccall</title>
<meta name="description" content="Berkeley DB: An embedded database programmatic toolkit.">
<meta name="keywords" content="embedded,database,programmatic,toolkit,b+tree,btree,hash,hashing,transaction,transactions,locking,logging,access method,access methods,java,C,C++">
</head>
<body bgcolor=white>
<a name="2"><!--meow--></a>
<table width="100%"><tr valign=top>
<td>
<h1>DbEnv::set_paniccall</h1>
</td>
<td align=right>
<a href="../api_cxx/c_index.html"><img src="../images/api.gif" alt="API"></a><a href="../reftoc.html"><img src="../images/ref.gif" alt="Ref"></a>
</td></tr></table>
<hr size=1 noshade>
<tt>
<h3><pre>
#include &lt;db_cxx.h&gt;
<p>
int
DbEnv::set_paniccall(void (*)(DbEnv *, int));
</pre></h3>
<h1>Description</h1>
<p>Errors can occur in the Berkeley DB library where the only solution is to shut
down the application and run recovery (for example, if Berkeley DB is unable
to allocate heap memory).  In these cases, when the C++ error model has
been configured so that the individual Berkeley DB methods return error codes
(see <a href="../api_cxx/except_class.html">DbException</a> for more information), the value
<a href="../ref/program/errorret.html#DB_RUNRECOVERY">DB_RUNRECOVERY</a> is returned by Berkeley DB methods.
<p>In these cases, it is also often simpler to shut down the application
when such errors occur rather than to try to gracefully return up the
stack.  The DbEnv::set_paniccall and <a href="../api_cxx/db_set_paniccall.html">Db::set_paniccall</a> methods
are used to specify methods to be called when
<a href="../ref/program/errorret.html#DB_RUNRECOVERY">DB_RUNRECOVERY</a> is about to be returned from a Berkeley DB interface.
When called, the <b>dbenv</b> argument will be a reference to the
current environment, and the <b>errval</b> argument is the error value
that would have been returned to the calling method.
<p>The DbEnv::set_paniccall interface may be called at any time during the life of
the application.
<p>The DbEnv::set_paniccall method either returns a non-zero error value or throws an exception that
encapsulates a non-zero error value on failure, and returns 0 on success.
<h1>Class</h1>
<a href="../api_cxx/env_class.html">DbEnv</a>
<h1>See Also</h1>
<a href="../api_cxx/env_list.html">Database Environments and Related Methods</a>
</tt>
<table width="100%"><tr><td><br></td><td align=right>
<a href="../api_cxx/c_index.html"><img src="../images/api.gif" alt="API"></a><a href="../reftoc.html"><img src="../images/ref.gif" alt="Ref"></a>
</td></tr></table>
<p><font size=1><a href="http://www.sleepycat.com">Copyright Sleepycat Software</a></font>
</body>
</html>
