<!--$Id$-->
<!--Copyright 1997-2002 by Sleepycat Software, Inc.-->
<!--All rights reserved.-->
<!--See the file LICENSE for redistribution information.-->
<html>
<head>
<title>Berkeley DB: db_create</title>
<meta name="description" content="Berkeley DB: An embedded database programmatic toolkit.">
<meta name="keywords" content="embedded,database,programmatic,toolkit,b+tree,btree,hash,hashing,transaction,transactions,locking,logging,access method,access methods,java,C,C++">
</head>
<body bgcolor=white>
<a name="2"><!--meow--></a>
<table width="100%"><tr valign=top>
<td>
<h1>db_create</h1>
</td>
<td align=right>
<a href="../api_c/c_index.html"><img src="../images/api.gif" alt="API"></a><a href="../reftoc.html"><img src="../images/ref.gif" alt="Ref"></a>
</td></tr></table>
<hr size=1 noshade>
<tt>
<h3><pre>
#include &lt;db.h&gt;
<p>
int
db_create(DB **dbp, DB_ENV *dbenv, u_int32_t flags);
</pre></h3>
<h1>Description</h1>
<p>The db_create method creates a <a href="../api_c/db_class.html">DB</a> structure that is the
handle for a Berkeley DB database.  A pointer to this structure is returned
in the memory to which <b>db</b> refers.  Calling the
<a href="../api_c/db_close.html">DB-&gt;close</a>, <a href="../api_c/db_remove.html">DB-&gt;remove</a> or <a href="../api_c/db_rename.html">DB-&gt;rename</a> methods will
discard the returned handle.
<p>If the <b>dbenv</b> argument is NULL, the database is standalone; that
is, it is not part of any Berkeley DB environment.
<p>If the <b>dbenv</b> argument is not NULL, the database is created
within the specified Berkeley DB environment.  The database access methods
automatically make calls to the other subsystems in Berkeley DB, based on the
enclosing environment.  For example, if the environment has been
configured to use locking, the access methods will automatically acquire
the correct locks when reading and writing pages of the database.
<p>The <b>flags</b> value must be set to 0 or
the following value:
<p><dl compact>
<p><dt><a name="DB_XA_CREATE">DB_XA_CREATE</a><dd>Instead of creating a standalone database, create a database intended
to be accessed via applications running under an X/Open conformant
Transaction Manager.  The database will be opened in the environment
specified by the OPENINFO parameter of the GROUPS section of the
ubbconfig file.  See the <a href="../ref/xa/xa_intro.html">XA
Introduction</a> section in the Berkeley DB Reference Guide for more information.
</dl>
<p>The <a href="../api_c/db_class.html">DB</a> handle contains a special field, "app_private", which
is declared as type "void *".  This field is provided for the use of
the application program.  It is initialized to NULL and is not further
used by Berkeley DB in any way.
<p>The db_create method returns a non-zero error value on failure and 0 on success.
<h1>Errors</h1>
<p>The db_create method may fail and return a non-zero error for errors specified for other Berkeley DB and C library or system functions.
If a catastrophic error has occurred, the db_create method may fail and
return <a href="../ref/program/errorret.html#DB_RUNRECOVERY">DB_RUNRECOVERY</a>,
in which case all subsequent Berkeley DB calls will fail in the same way.
<h1>Class</h1>
<a href="../api_c/db_class.html">DB</a>
<h1>See Also</h1>
<a href="../api_c/db_list.html">Databases and Related Methods</a>
</tt>
<table width="100%"><tr><td><br></td><td align=right>
<a href="../api_c/c_index.html"><img src="../images/api.gif" alt="API"></a><a href="../reftoc.html"><img src="../images/ref.gif" alt="Ref"></a>
</td></tr></table>
<p><font size=1><a href="http://www.sleepycat.com">Copyright Sleepycat Software</a></font>
</body>
</html>
